<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MSTV Network</title>
    <!-- HLS Library -->
    <script src="https://cdn.jsdelivr.net"></script>

    <style>
       /* Existing Styles Preserved */
       body { margin: 0; padding: 0; font-family: 'Poppins', sans-serif; color: #E0E0E0; background: #0F1115; }
       .title-3d { font-size: 3.5em; text-align: center; margin-top: 40px; margin-bottom: 30px; color: #FFFFFF; text-shadow: 0 4px 8px rgba(0, 0, 0, 0.4); letter-spacing: 2px; font-weight: 700; }
       
       /* NEW: Search Bar Styling */
       .search-container { display: flex; justify-content: center; margin-bottom: 15px; }
       #channel-search { 
           width: 90%; max-width: 450px; padding: 12px 15px; 
           background: #1A1D20; border: 1px solid #90EE90; 
           border-radius: 8px; color: white; outline: none; font-size: 1rem;
       }

       .channel-selector-text { text-align: center; font-size: 1.8em; margin: 2vh 0 1vh; color: #FFFFFF; font-weight: 600; }
       .channel-selection { margin-bottom: 5vh; display: flex; justify-content: center; }
       select { padding: 0.7em 1.5em; font-size: 1.2em; background: #1A1D20; color: #90EE90; border: 1px solid #90EE90; border-radius: 8px; width: 90%; max-width: 450px; cursor: pointer; }
       
       .player-container { position: relative; width: 90%; max-width: 1100px; aspect-ratio: 16 / 9; margin: 0 auto 60px; border-radius: 12px; overflow: hidden; background: #1A1D20; box-shadow: 0 8px 16px rgba(0, 0, 0, 0.5); }
       .player-container iframe, .player-container video, #placeholder-image { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; }
       .live-stamp { position: absolute; top: 1.5vw; left: 1.5vw; background: #E50914; color: white; padding: 0.4vw 1.6vw; border-radius: 0.6vw; z-index: 999; font-weight: 700; }
       .loading-indicator { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.8); color: #90EE90; padding: 15px; border-radius: 8px; display: none; z-index: 1000; }
    </style>
</head>
<body>

   <div class="title-3d">AAINA DTH FREE</div>
    
   <div class="channel-selector-text">Find & Select Channel</div>
   
   <!-- 1. Search Bar Component -->
   <div class="search-container">
      <input type="text" id="channel-search" placeholder="ðŸ” Type channel name (e.g. Star Sports)...">
   </div>

   <div class="channel-selection">
      <select id="channel-select">
         <option value="">ðŸ‘‰ Select a Channel</option>
      </select>
   </div>
        
   <div class="player-container" id="player-container">
          <iframe id="media-player" allow="autoplay; encrypted-media; picture-in-picture; fullscreen" style="display:none;"></iframe>
          <video id="video-player" autoplay playsinline muted style="display:none;"></video>
          <img id="placeholder-image" src="Design-Studio-2025-01-22 (1).png" alt="Stream Placeholder" />
          <div class="live-stamp" id="live-stamp" style="display:none;">LIVE</div>
          <div class="loading-indicator" id="loading">Loading Stream...</div>
   </div>

   <script>
        // --- Hardcoded Channel Data ---
        const channelsData = [
          {name:"Star Sports",type:"iframe",url:"https://streamcrichd.com/update/star.php",keywords:"cricket, sports, star"},
          {name:"Star Sports Hindi",type:"iframe",url:"//streamcrichd.com/update/star1hi.php",keywords:"hindi, cricket, star"},
          {name:"Sky Sports Cricket",type:"iframe",url:"//streamcrichd.com/update/skys2.php",keywords:"sky, sports, cricket"},
          {name:"Ptv Sports",type:"hls",url:"https://customer-srcoca74emay36mm.cloudflarestream.com/bd7d60876c18078823c39fdc067432d7/manifest/video.m3u8",keywords:"pakistan, ptv, sports"},
          {name:"Willow Cricket Hindi",type:"hls",url:"https://restream-live.realiptv.to/live/ALEX/sg5ng25ikf/3973.m3u8",keywords:"willow, hindi, cricket"},
          {name:"Willow Cricket",type:"iframe",url:"//streamcrichd.com/update/willowcricket.php",keywords:"willow, english, cricket"},
          {name:"Bollywood Classics Hd",type:"hls",url:"https://d35j504z0x2vu2.cloudfront.net/v1/manifest/0bc8e8376bd8417a1b6761138aa41c26c7309312/bollywood-classic/6b126777-7e9a-444f-9845-48fa1d4ed694/1.m3u8",keywords:"movies, old, hindi"},
          {name:"Zee Cinema",type:"iframe",url:"https://freeways.hosthampster.com/zeecinema.html?autoplay=1",keywords:"movies, zee, cinema"},
          {name:"Colors Hd", type:"iframe", url:"//cdn.stmify.com/embed-free/v1/colors-hd-in-jw", keywords:"colors, drama, tv"}
        ];

        const select = document.getElementById('channel-select');
        const videoPlayer = document.getElementById('video-player');
        const iframePlayer = document.getElementById('media-player');
        const placeholder = document.getElementById('placeholder-image');
        const loading = document.getElementById('loading');
        const liveStamp = document.getElementById('live-stamp');
        const playerContainer = document.getElementById('player-container');
        const searchInput = document.getElementById('channel-search');
      
        let hlsInstance = null;

        function showLoading(show) { loading.style.display = show ? 'block' : 'none'; }
      
        function stopAllPlayback() {
          if (hlsInstance) { hlsInstance.destroy(); hlsInstance = null; }
          videoPlayer.pause();
          videoPlayer.src = "";
          videoPlayer.style.display = 'none';
          iframePlayer.src = '';
          iframePlayer.style.display = 'none';
          liveStamp.style.display = 'none';
        }

        // 2. Fullscreen Trigger Function
        function triggerFullscreen() {
            const fs = playerContainer.requestFullscreen || playerContainer.webkitRequestFullscreen || playerContainer.msRequestFullscreen;
            if (fs) {
                fs.call(playerContainer).catch(err => console.log("Fullscreen interaction required"));
            }
        }
      
        function playChannel(channel) {
          showLoading(true);
          placeholder.style.display = 'none';
          stopAllPlayback();
          if (!channel) { placeholder.style.display = 'block'; showLoading(false); return; }
      
          if (channel.type === 'hls') {
            videoPlayer.style.display = 'block';
            if (typeof Hls !== 'undefined' && Hls.isSupported()) {
              hlsInstance = new Hls();
              hlsInstance.loadSource(channel.url);
              hlsInstance.attachMedia(videoPlayer);
              hlsInstance.on(Hls.Events.MANIFEST_PARSED, () => { 
                  videoPlayer.play(); 
                  showLoading(false); 
                  liveStamp.style.display = 'block';
                  triggerFullscreen(); // AUTO FULLSCREEN
              });
            } else if (videoPlayer.canPlayType('application/vnd.apple.mpegurl')) {
              videoPlayer.src = channel.url;
              videoPlayer.play().then(() => {
                  showLoading(false);
                  triggerFullscreen(); // AUTO FULLSCREEN
              });
            }
          } else if (channel.type === 'iframe') {
            iframePlayer.style.display = 'block';
            iframePlayer.src = channel.url;
            showLoading(false);
            liveStamp.style.display = 'block';
            // Iframes often block programmatic fullscreen; we trigger on the container
            setTimeout(triggerFullscreen, 500); 
          }
        }

        // 3. Search and Render Logic
        function renderList(filteredData) {
            select.innerHTML = '<option value="">ðŸ‘‰ Select a Channel</option>';
            filteredData.forEach(channel => {
                const option = document.createElement('option');
                option.value = channelsData.indexOf(channel);
                option.textContent = channel.name;
                select.appendChild(option);
            });
        }

        // Initialize original list
        renderList(channelsData);

        // Search Input Listener
        searchInput.addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase();
            const filtered = channelsData.filter(c => 
                c.name.toLowerCase().includes(term) || 
                (c.keywords && c.keywords.toLowerCase().includes(term))
            );
            renderList(filtered);
        });
      
        // Selection Listener
        select.addEventListener('change', () => {
          const index = select.value;
          playChannel(index === '' ? null : channelsData[index]);
        });
   </script>
</body>
</html>
``` [1, 2, 3, 4, 5, 6, 7, 8]
