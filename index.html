<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MSTV Network | Premium DTH</title>

<style>
* { box-sizing: border-box; transition: all 0.3s ease; }
body { margin: 0; padding: 0; font-family: Arial, sans-serif; color: #E0E0E0; background: #0F1115; overflow-x: hidden; }

.title-3d { font-size: clamp(1.8rem, 4vw, 3.5rem); text-align: center; margin: 30px 0 10px; color: #FFFFFF; font-weight: 800; }

.scrolling-news {
  background: #1A1D20;
  color: #90EE90;
  padding: 12px 0;
  border-top: 1px solid #333;
  border-bottom: 1px solid #333;
  margin-bottom: 20px;
  font-weight: 600;
}

.channel-heading { text-align: center; font-size: 14px; color: #90EE90; font-weight: 600; margin-bottom: 15px; }

.gif-row {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-bottom: 10px;
  flex-wrap: wrap;
}

.gif-row img {
  max-width: 100px;
  height: auto;
}

.ribbon-wrapper {
  position: relative;
  max-width: 1000px;
  margin: 0 auto 30px;
  display: flex;
  align-items: center;
}

.channel-ribbon {
  display: flex;
  overflow-x: auto;
  overflow-y: hidden;
  gap: 15px;
  padding: 10px 5px 20px;
  flex-grow: 1;
}
.channel-ribbon::-webkit-scrollbar { display: none; }

.nav-btn {
  background: rgba(26, 29, 32, 0.8);
  border: 1px solid #333;
  color: #90EE90;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  cursor: pointer;
}

.logo-card {
  flex: 0 0 120px;
  background: #1A1D20;
  border: 1px solid #333;
  border-radius: 12px;
  padding: 10px;
  cursor: pointer;
  text-align: center;
  position: relative;
}
.logo-card.active { border-color: #90EE90; background: rgba(144, 238, 144, 0.1); }
.logo-card img { width: 100%; height: 50px; object-fit: contain; }
.logo-card span { display: block; font-size: 10px; margin-top: 5px; color: #888; font-weight: 600; }

.live-dot {
  position: absolute;
  top: 8px;
  right: 8px;
  width: 8px;
  height: 8px;
  background: #ff4b2b;
  border-radius: 50%;
  display: none;
  animation: blink 1s infinite;
}
@keyframes blink { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }
.active .live-dot { display: block; }

#fullscreen-wrapper {
  position: relative;
  width: 95%;
  max-width: 1000px;
  margin: 0 auto 10px;
  background: #000;
  border-radius: 12px;
  overflow: hidden;
}

.player-container { position: relative; width: 100%; padding-top: 56.25%; background: #000; }

.player-container iframe,
.player-container video,
#placeholder-image {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  object-fit: contain;
  border: none;
}

#placeholder-image { display: block; }

#blur-overlay {
  position: absolute;
  top: 8%;
  left: 2%;
  width: 40%;
  height: 15%;
  background: rgba(255,255,255,0.01);
  backdrop-filter: blur(25px);
  border-radius: 4px;
  z-index: 10;
  display: none;
}

.loader-container {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: none;
  z-index: 20;
}
.spinner {
  width: 40px;
  height: 40px;
  border: 3px solid rgba(144,238,144,0.2);
  border-top: 3px solid #90EE90;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

#player-message {
  text-align: center;
  color: #90EE90;
  font-weight: 600;
  font-size: 14px;
  padding: 8px 12px;
  width: 100%;
  margin-top: 8px;
  opacity: 0;
  transition: opacity 0.3s ease;
  position: static;
}

footer {
  background: #0F1115;
  border-top: 2px solid #90EE90;
  padding: 60px 20px;
  text-align: center;
}

footer h4 {
  color: #90EE90;
  font-size: 18px;
  margin-bottom: 12px;
  font-weight: 700;
  text-shadow: 0 0 4px rgba(144,238,144,0.5);
}

footer p { color: #ccc; line-height: 1.6; font-size: 14px; }
footer p span { color:#90EE90; font-weight:600; }
</style>
</head>
<body>

<div class="title-3d">AAINA DTH FREE</div>

<div class="scrolling-news">
<marquee scrollamount="6">
Aaina DTH Free | Ad-Free Streaming | TV Channels with Entertainment for All Ages
</marquee>
</div>

<!-- Row of GIFs above ribbon -->
<div class="gif-row">
  <img src="https://dribbble.com/shots/2346604-Pepsi?utm_source=Clipboard_Shot&utm_campaign=pavelbragin&utm_content=Pepsi&utm_medium=Social_Share&utm_source=Clipboard_Shot&utm_campaign=pavelbragin&utm_content=Pepsi&utm_medium=Social_Share" alt="GIF 1">
  <img src="https://dribbble.com/shots/2346604-Pepsi?utm_source=Clipboard_Shot&utm_campaign=pavelbragin&utm_content=Pepsi&utm_medium=Social_Share&utm_source=Clipboard_Shot&utm_campaign=pavelbragin&utm_content=Pepsi&utm_medium=Social_Share" alt="GIF 2">
  <img src="https://media.giphy.com/media/3oKIPwoeGErMmaI43C/giphy.gif" alt="GIF 3">
</div>

<div class="channel-heading">Scroll to select channels</div>

<div class="ribbon-wrapper">
  <button class="nav-btn" onclick="scrollRibbon(-200)">⬅️</button>
  <div class="channel-ribbon" id="logo-grid"></div>
  <button class="nav-btn" onclick="scrollRibbon(200)">➡️</button>
</div>

<div id="fullscreen-wrapper">
  <div class="player-container">
    <iframe id="media-player" style="display:none;" allow="autoplay; fullscreen; encrypted-media" allowfullscreen></iframe>
    <video id="video-player" style="display:none;" playsinline controls preload="metadata"></video>
    <img id="placeholder-image" src="Design-Studio-2025-01-22 (1).png" alt="Select Channel">
    <div id="blur-overlay"></div>
    <div class="loader-container" id="loader"><div class="spinner"></div></div>
  </div>
  <div id="player-message"></div>
</div>

<footer>
<div style="max-width:800px;margin:0 auto;">
<h4>About MSTV Network</h4>
<p>
Non for profit organisation. Our platform works best on Android devices and Windows desktop or laptop systems.
All content featured on Aaina DTH Free is sourced from publicly available platforms on the internet.
We do not host or stream any content directly.
</p>
<p style="margin-top:20px;">© <span id="year"></span> MSTV Network</p>
</div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script>
document.getElementById('year').textContent = new Date().getFullYear();

const videoPlayer = document.getElementById('video-player');
const iframePlayer = document.getElementById('media-player');
const placeholder = document.getElementById('placeholder-image');
const grid = document.getElementById('logo-grid');
const fsWrapper = document.getElementById('fullscreen-wrapper');
const messageEl = document.getElementById('player-message');
const blurOverlay = document.getElementById('blur-overlay');
const loader = document.getElementById('loader');

let autoScrollInterval;
let currentChannelIndex = null;

// FULLSCREEN
function openFullscreen() {
  if(fsWrapper.requestFullscreen) fsWrapper.requestFullscreen();
  else if(fsWrapper.webkitRequestFullscreen) fsWrapper.webkitRequestFullscreen();
}

// AUTO SCROLL
function startAutoScroll() {
  autoScrollInterval = setInterval(()=>{
    grid.scrollLeft += 1;
    if(grid.scrollLeft >= grid.scrollWidth / 2) grid.scrollLeft = 0;
  },20);
}
function scrollRibbon(distance) { grid.scrollBy({ left: distance }); }

// CHANNEL DATA
const channelsData = [
{ name: "Star Sports", url: "https://streamcrichd.com/update/star.php", type: "iframe", logo: "cb2f146ca360b682048f5cdb75f557ec.jpg", message: "Enjoy live sports action in HD!", showBadge: false },
{ name: "Bollywood Classic HD", url: "https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8", type: "hls", logo: "wlo_logo_200_200.jpg", message: "Classic Bollywood movies for everyone.", showBadge: false },
{ name: "Zee Cinema", url: "https://freeways.hosthampster.com/zeecinema.html?autoplay=1", type: "iframe", logo: "wlo_logo_200_200.jpg", message: "Blockbusters for the whole family!", showBadge: true }
];

// BUILD RIBBON
channelsData.forEach((ch,i)=>{
  const card = document.createElement('div');
  card.className='logo-card';
  card.dataset.type = ch.type;
  card.innerHTML = `<div class="live-dot"></div><img src="${ch.logo}"><span>${ch.name}</span>`;
  card.onclick = ()=>handleSelection(i);
  grid.appendChild(card);
});

// DUPLICATE FOR LOOP
function makeRibbonLoop(){
  const cards = Array.from(grid.children);
  cards.forEach(c=>{
    const clone = c.cloneNode(true);
    clone.onclick = c.onclick;
    grid.appendChild(clone);
  });
}
makeRibbonLoop();

// STOP PLAYBACK
function stopAllPlayback(){
  if(videoPlayer){
    videoPlayer.pause();
    videoPlayer.removeAttribute('src');
    videoPlayer.load();
    videoPlayer.style.display='none';
  }
  iframePlayer.src='';
  iframePlayer.style.display='none';
}

// UPDATE MESSAGE VISIBILITY
function updateMessageVisibility(){
  if(document.fullscreenElement && currentChannelIndex!==null){
    messageEl.style.opacity = 1;
  } else { messageEl.style.opacity = 0; }
}
document.addEventListener('fullscreenchange', updateMessageVisibility);

// HANDLE SELECTION
function handleSelection(index){
  const channel = channelsData[index];
  currentChannelIndex = index;

  stopAllPlayback();

  document.querySelectorAll('.logo-card').forEach(c=>c.classList.remove('active'));
  if(grid.children[index]) grid.children[index].classList.add('active');

  messageEl.textContent = channel.message || '';
  messageEl.style.opacity = 0;

  blurOverlay.style.display = channel.showBadge ? 'block' : 'none';
  loader.style.display = 'flex';

  // Hide placeholder when a channel is selected
  placeholder.style.display = 'none';

  if(channel.type==='hls'){
    videoPlayer.style.display='block';
    if(typeof Hls !== 'undefined' && Hls.isSupported()){
      const hls = new Hls({ maxBufferLength:5, maxMaxBufferLength:15 });
      hls.loadSource(channel.url);
      hls.attachMedia(videoPlayer);
      hls.on(Hls.Events.MANIFEST_PARSED, ()=>{
        if(hls.levels.length>0) hls.currentLevel = 0; // lowest quality first
        loader.style.display='none';
        videoPlayer.play().catch(()=>{ videoPlayer.muted=true; videoPlayer.play(); });
      });
    } else if(videoPlayer.canPlayType('application/vnd.apple.mpegurl')){
      videoPlayer.src = channel.url;
      videoPlayer.play().finally(()=>loader.style.display='none');
    }
  } else {
    iframePlayer.style.display='block';
    // SANDBOX ATTRIBUTE TO PREVENT REDIRECTION
    iframePlayer.setAttribute('sandbox','allow-scripts allow-same-origin allow-forms allow-presentation');
    iframePlayer.src = channel.url;
    const iframeTimeout = setTimeout(()=>loader.style.display='none',5000);
    iframePlayer.onload = ()=>{ clearTimeout(iframeTimeout); loader.style.display='none'; };
  }

  // fullscreen
  setTimeout(()=>{ if(!document.fullscreenElement) openFullscreen(); },300);

  updateMessageVisibility();
}

// SHOW PLACEHOLDER
function showPlaceholder(){
  stopAllPlayback();
  placeholder.style.display = 'block';
  messageEl.style.opacity = 0;
  blurOverlay.style.display = 'none';
}

// START AUTO SCROLL
startAutoScroll();
</script>
</body>
</html>
