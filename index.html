<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Channel Ribbon</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:#000;
    color:#fff;
}

/* ===== Ribbon ===== */
.ribbon-wrapper{
    max-width:1000px;
    margin:20px auto;
    overflow:hidden;
    position:relative;
}

.channel-ribbon{
    overflow:hidden;
    width:100%;
}

.ribbon-track{
    display:flex;
    gap:15px;
    padding:10px 5px 20px;
    width:max-content;
    will-change:transform;
}

.logo-card{
    background:#111;
    border-radius:8px;
    padding:10px;
    text-align:center;
    min-width:120px;
    cursor:pointer;
    transition:0.3s;
}

.logo-card img{
    width:100%;
    height:60px;
    object-fit:contain;
}

.logo-card span{
    display:block;
    margin-top:6px;
    font-size:14px;
}

.logo-card.active{
    background:#e50914;
}

.logo-card:hover{
    background:#333;
}

.live-dot{
    width:8px;
    height:8px;
    background:red;
    border-radius:50%;
    margin:0 auto 5px;
}

/* ===== Player ===== */
.player-container{
    max-width:1000px;
    margin:20px auto;
}

iframe{
    width:100%;
    height:500px;
    border:none;
    background:#000;
}
</style>
</head>

<body>

<div class="ribbon-wrapper">
    <div class="channel-ribbon">
        <div class="ribbon-track" id="ribbon-track"></div>
    </div>
</div>

<div class="player-container">
    <iframe id="videoFrame" allowfullscreen></iframe>
</div>

<script>

/* ===== Channel Data ===== */
const channelsData = [
  { name:"Star Sports", url:"https://streamcrichd.com/update/star.php", type:"iframe", logo:"cb2f146ca360b682048f5cdb75f557ec.jpg" },
  { name:"Bollywood Classic HD", url:"https://d35j504z0x2vu2.cloudfront.net/v1/manifest/0bc8e8376bd8417a1b6761138aa41c26c7309312/bollywood-classic/6b126777-7e9a-444f-9845-48fa1d4ed694/1.m3u8", type:"hls", logo:"wlo_logo_200_200.jpg" },
  { name:"Zee Cinema", url:"https://freeways.hosthampster.com/zeecinema.html", type:"iframe", logo:"wlo_logo_200_200.jpg" }
];


/* ===== Build Ribbon ===== */
const ribbonTrack = document.getElementById("ribbon-track");
const iframe = document.getElementById("videoFrame");

function createCard(ch,index){
    const card = document.createElement("div");
    card.className="logo-card";
    card.dataset.index=index;

    card.innerHTML=`
        <div class="live-dot"></div>
        <img src="${ch.logo}">
        <span>${ch.name}</span>
    `;

    card.addEventListener("click",function(){
        document.querySelectorAll(".logo-card")
            .forEach(c=>c.classList.remove("active"));

        this.classList.add("active");

        iframe.src = channelsData[index].url;
    });

    return card;
}

/* Add original + clone */
channelsData.forEach((ch,i)=>ribbonTrack.appendChild(createCard(ch,i)));
channelsData.forEach((ch,i)=>ribbonTrack.appendChild(createCard(ch,i)));

const originalWidth = ribbonTrack.scrollWidth / 2;

/* ===== Infinite Auto Scroll (No Jitter) ===== */
let position = 0;
let speed = 0.5;
let animationFrame;

function animate(){
    position += speed;

    if(position >= originalWidth){
        position -= originalWidth;
    }

    ribbonTrack.style.transform = `translateX(-${position}px)`;

    animationFrame = requestAnimationFrame(animate);
}

function stopScroll(){
    cancelAnimationFrame(animationFrame);
}

function startScroll(){
    animationFrame = requestAnimationFrame(animate);
}

ribbonTrack.addEventListener("mouseenter",stopScroll);
ribbonTrack.addEventListener("mouseleave",startScroll);

startScroll();

/* Load first channel by default */
iframe.src = channelsData[0].url;
document.querySelectorAll(".logo-card")[0].classList.add("active");

</script>

</body>
</html>
